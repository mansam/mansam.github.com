<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Sam Lucidi</title><link href="http://mansam.github.io/" rel="alternate"></link><link href="http://mansam.github.io/feeds/all.atom.xml" rel="self"></link><id>http://mansam.github.io/</id><updated>2014-03-24T16:55:00-04:00</updated><entry><title>`hotdate`: intuitive date formatting</title><link href="http://mansam.github.io/hotdate-intuitive-date-formatting.html" rel="alternate"></link><updated>2014-03-24T16:55:00-04:00</updated><author><name>Sam Lucidi</name></author><id>tag:mansam.github.io,2014-03-24:hotdate-intuitive-date-formatting.html</id><summary type="html">&lt;p&gt;&lt;code&gt;hotdate&lt;/code&gt; is a library I wrote for the first 5 week release cycle of Remy DeCausemaker's Advanced Projects in FOSS class. It's an extension of the builtin Python &lt;code&gt;datetime&lt;/code&gt; object that adds a bunch of date formatting and relative date handling in an attempt to make certain common tasks easier to do. Its API is very much inspired by that of &lt;a href="" title="http://momentjs.com"&gt;&lt;code&gt;moment.js&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It's dependent on &lt;code&gt;six&lt;/code&gt; for 2/3 compatibility, and the awesome &lt;code&gt;freezegun&lt;/code&gt; for testing. I originally had hoped to avoid other dependencies, but I ended up capitulating and making &lt;code&gt;hotdate&lt;/code&gt; dependent on &lt;code&gt;python-dateutil&lt;/code&gt;'s great support for working out relative time deltas.&lt;/p&gt;
&lt;p&gt;Check it out (along with its documentation) on the &lt;a href="https://github.com/mansam/hotdate"&gt;&lt;code&gt;hotdate Github page&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;</summary><category term="development"></category><category term="python"></category><category term=""></category></entry><entry><title>RCAC Kickoff Hackathon</title><link href="http://mansam.github.io/rcac-kickoff-hackathon.html" rel="alternate"></link><updated>2014-02-28T18:30:00-05:00</updated><author><name>Sam Lucidi</name></author><id>tag:mansam.github.io,2014-02-28:rcac-kickoff-hackathon.html</id><summary type="html">&lt;p&gt;The kickoff hackathon for the &lt;a href="http:/attroc.hackupstate.com"&gt;Rochester Civic App Challenge&lt;/a&gt; happened
this past weekend.  As it was the first FOSS@RIT hackathon of the year,
I was thrilled to see that we had a pretty substantial turn out for the
event-- especially considering we weren't allowed to announce it until
just a couple days beforehand.&lt;/p&gt;
&lt;p&gt;Since this was the lead-in for the Civic App Challenge, most of the people
who turned up worked on open government and municipal data projects. A
few of these projects were pretty well established, like Tim Duffy's
&lt;a href="http://github.com/thequbit/monroeminutes"&gt;MonroeMinutes&lt;/a&gt; (and the awesome &lt;a href="http://github.com/thequbit/barkingowl"&gt;BarkingOwl&lt;/a&gt; system that powers it), but for
the most part we saw a lot of new faces working on some interesting new
projects. There's a surprising amount of machine readable data published
by entities in New York state and in Monroe County in particular, and
it's always cool to see what people manage to do with it.&lt;/p&gt;
&lt;p&gt;I spent most of the early hours of the event getting people situated
and setting up the projector walls with our IRC, twitter feeds, and even
live coding feeds powered by &lt;a href="http://tmate.io"&gt;tmate.io&lt;/a&gt; mirrors of a few attendees' tmux
sessions. After that, I spent some time poking around with some front-end
work for a voting education site, but I lost interest rather quickly
and moved on. I was in the mood for something a bit more technically
challenging, and fighting with CSS wasn't cutting it for me.&lt;/p&gt;
&lt;p&gt;I ended up digging out an old one-off project of mine, an implementation
of &lt;a href="http://github.com/mansam/conway"&gt;Conway's game of life&lt;/a&gt; that I thought would be fun to have occupy one of
the projector walls that wasn't in use. The drawing was rather primitive
thought (just writing out lines to the console and clearing between
stages), and it ran pretty poorly over the mirrored tmux session. I
resolved to fix it by doing something I'd meant to do quite some time
ago-- rewrite it in ncurses. I knocked that out pretty quickly and was
feeling reasonably pleased with myself when it occurred to me I had
another old project that could use some ncurses-based lovin'.&lt;/p&gt;
&lt;p&gt;In 2011, I participated in a 24-hour game jam hosted on CSH by a few
friends of mine who were majoring in game design. I entered a project
called Anachronos, which was an overly-complicated turn-based strategy
"game" that was really more of a sandbox for me to experiment with
procedural terrain generation and some weird time-travel mechanics where
the results of previous turns could be changed.  It was never really
finished, but I'd struggled to find the time to keep hacking on it after
the game jam other than a few half hearted attempts to refactor out a lot
of the time-limit-induced ugliness. One of the main things I had wanted to
do with it was rewrite it with an ncurses interface, so with the Python
curses bindings fresh in my mind from rewriting the game of life just
before hand, I set to work salvaging interesting bits of Anachronos.&lt;/p&gt;
&lt;p&gt;By morning, and at least a few hours trying to figure out what on earth
my old terrain generation routine was supposed to be doing, I'd managed to
write the basics of an engine that I think might be useful to me not just
for using to rewrite Anachronos, but also for a rogue-like project I'll
probably end up doing for one of the sprints in Remy's Advanced Projects
in FOSS class. If you were wondering, it looks something like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Wilderness engine" src="wilderness.png" /&gt;&lt;/p&gt;
&lt;p&gt;Of course, the source for it is up on &lt;a href="http://github.com/mansam/wilderness"&gt;Github&lt;/a&gt;. I'm still figuring out what
features I'd like to have in the engine itself and what to leave out for
the games I build on top of it; I'll have to ask one of the game design
majors that seem to make up the majority of the FOSS class for advice.
After that, I need to abstract it out a bit more to make it useful as a
library rather than the tech demo that it essentially is now. Oh well,
can't get everything done in one night.&lt;/p&gt;</summary><category term="hackathon"></category></entry><entry><title>FOSS@RIT Proposal for Sprint 1</title><link href="http://mansam.github.io/fossrit-proposal-for-sprint-1.html" rel="alternate"></link><updated>2014-02-12T22:28:00-05:00</updated><author><name>Sam Lucidi</name></author><id>tag:mansam.github.io,2014-02-12:fossrit-proposal-for-sprint-1.html</id><summary type="html">

          &lt;p&gt;&lt;code&gt;when&lt;/code&gt; is a more intutive library for dealing with date formatting in Python. The API is inspired by tools like &lt;a href="http://momentjs.com/"&gt;moment.js&lt;/a&gt;.&lt;/p&gt;

          &lt;table class="pure-table"&gt;
          &lt;tbody&gt;
          &lt;tr&gt;
          &lt;td&gt;License&lt;/td&gt;&lt;td&gt;GPL3&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;Language&lt;/td&gt;&lt;td&gt;Python&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;Package System&lt;/td&gt;&lt;td&gt;PyPI&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;Dependencies&lt;/td&gt;&lt;td&gt;None&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;Upstream Mentor&lt;/td&gt;&lt;td&gt;threebean?&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;Team Members&lt;/td&gt;&lt;td&gt;mansam&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
          &lt;td&gt;GitHub&lt;/td&gt;&lt;td&gt;&lt;a href="http://github.com/mansam/when"&gt;when&lt;/a&gt;&lt;/td&gt;
          &lt;/tr&gt;
          &lt;/tbody&gt;
          &lt;/table&gt;
          &lt;br&gt;
     </summary><category term="python"></category><category term="development"></category></entry><entry><title>Getting Started with Virtualenv</title><link href="http://mansam.github.io/getting-started-with-virtualenv.html" rel="alternate"></link><updated>2014-02-10T00:00:00-05:00</updated><author><name>Sam Lucidi</name></author><id>tag:mansam.github.io,2014-02-10:getting-started-with-virtualenv.html</id><summary type="html">
&lt;!--  BEGIN ARTICLE CONTENT --&gt;
&lt;p&gt;Python is distributed as part of the base distribution for most UNIX-like operating systems out there, including OS X. The default install is great for built in system packages and quick scripts, but you don't usually get to choose the version of the system Python, and you usually need root permission in order to install new packages from &lt;a href="https://pypi.python.org"&gt;the Python Package Index&lt;/a&gt;. Even if you don't mind installing new packages as root, it also means that you are locked into just one version of each installed package,
          which can make managing dependencies for different projects tough.&lt;/p&gt;
&lt;p&gt;To make it easier to install and manage different versions of Python and its packages, many Pythonistas recommend the use of &lt;a href="http://www.virtualenv.org/en/latest/"&gt;virtualenvs&lt;/a&gt;. &lt;code&gt;virtualenv&lt;/code&gt; is a fantastic tool that lets you create sandboxed environments for each of your projects, and each environment can have its own version of Python and its own set of packages. Getting it set up can be a little confusing the first time, so here's the general process:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note that this guide assumes you use a bash-compatible shell. Things
          are a little different if you are using something like, say, &lt;a href="http://fishshell.com/"&gt;fish&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Use pip to install &lt;code&gt;virtualenv&lt;/code&gt; and &lt;code&gt;virtualenvwrapper&lt;/code&gt;. You'll probably need to use &lt;code&gt;sudo&lt;/code&gt; or otherwise give yourself root permissions to do this, since you're installing these tools with the system Python. &lt;/p&gt;
&lt;p&gt;&lt;em&gt;(If your system doesn't have &lt;code&gt;pip&lt;/code&gt; installed or you are used to &lt;code&gt;easy_install&lt;/code&gt;, I'd recommend first installing it with &lt;code&gt;easy_install pip&lt;/code&gt;, and then never using &lt;code&gt;easy_install&lt;/code&gt; again. (&lt;code&gt;easy_install&lt;/code&gt; is obsolete, and besides: &lt;code&gt;pip&lt;/code&gt; cleans up after itself quite a bit better and is better for dealing with versioning.)&lt;/em&gt;&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;$ sudo pip install virtualenv
$ sudo pip install virtualenvwrapper
          &lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next, you can create a directory where you'd like your environments to live. I prefer something like 'envs' or 'environments' in my home directory.
          You'll also need to add an environment variable so that virtualenv knows
          where to put things.&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;$ mkdir ~/envs
$ export WORKON_HOME=~/envs
          &lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lastly, source the &lt;code&gt;virtualenvwrapper.sh&lt;/code&gt; script that pip installed earlier. This adds a bunch of handy management functions to your shell.&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;$ source /usr/local/bin/virtualenvwrapper.sh
          &lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At this point, you're good to go with virtualenv. Create one for your to experiment with using the &lt;code&gt;mkvirtualenv&lt;/code&gt; command that the wrapper set up for you. You'll wind up with a prompt telling you which environment you're working on. Note that it adds a helpful identifier to your prompt to tell you which environment you are in.&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;$ mkvirtualenv sandbox
$ workon sandbox
(sandbox) $
          &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can jump out of your virtualenv with &lt;code&gt;deactivate&lt;/code&gt;. From now on, typing &lt;code&gt;workon sandbox&lt;/code&gt; will put you into the environment you created, and deactivate will take you out. Same goes for any more environments you create with &lt;code&gt;mkvirtualenv&lt;/code&gt;. Conveniently, your shell will tab complete your virtualenv names after you type &lt;code&gt;workon&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;By default, new virtualenvs will use your system default Python. If you want to use different version of Python in each of your virtualenvs, that's easy too. Just pass the &lt;code&gt;-p&lt;/code&gt; flag to &lt;code&gt;mkvirtualenv&lt;/code&gt; with the path to the version you want, and all work you do in that environment will be with the selected Python version.&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;$ mkvirtualenv -p /usr/bin/python3.3 sandbox3
$ workon sandbox3
(sandbox3) $ python --version
Python 3.3.3
          &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each virtualenv will keep its own package cache and use its own copy of &lt;code&gt;pip&lt;/code&gt;. This is convenient because it allows you to keep different sets of packages with different versions separate from each other in order to accomodate disparate packages with conflicting dependencies.&lt;/p&gt;
&lt;!--  END OF ARTICLE CONTENT  --&gt;
</summary><category term="python"></category></entry><entry><title>Getting Started with Cucumber</title><link href="http://mansam.github.io/getting-started-with-cucumber.html" rel="alternate"></link><updated>2013-11-20T22:28:00-05:00</updated><author><name>Sam Lucidi</name></author><id>tag:mansam.github.io,2013-11-20:getting-started-with-cucumber.html</id><summary type="html">

        &lt;h3 id="introduction"&gt;Introduction&lt;/h3&gt;

        &lt;p&gt;&lt;em&gt;Note: This tutorial assumes you have a modern version of Ruby and RubyGems installed. If you don't, try using the &lt;a href="http://rvm.io" title="Ruby Version Manager"&gt;Ruby Version Manager&lt;/a&gt; to install it.&lt;/em&gt;&lt;/p&gt;

        &lt;p&gt;To get started, install Cucumber from RubyGems with the &lt;code&gt;gem&lt;/code&gt; command:&lt;/p&gt;

        &lt;pre class="prettyprint"&gt;&lt;code&gt;$ gem install cucumber
        &lt;/code&gt;&lt;/pre&gt;

        &lt;p&gt;This will install the Cucumber module along with any of its dependencies. Next, enter your project directory and create a folder called &lt;code&gt;features&lt;/code&gt;, and a subdirectory of it called &lt;code&gt;step_definitions&lt;/code&gt;, and another called &lt;code&gt;support&lt;/code&gt;.&lt;/p&gt;

        &lt;pre class="prettyprint"&gt;&lt;code&gt;$ mkdir -p features/step_definitions
        &lt;/code&gt;&lt;/pre&gt;

        &lt;pre class="prettyprint"&gt;&lt;code&gt;$ mkdir features/support&lt;/code&gt;&lt;/pre&gt;

        &lt;p&gt;If your project doesn't have a &lt;code&gt;Gemfile&lt;/code&gt; in the root directory, create one. To the exist &lt;code&gt;Gemfile&lt;/code&gt; or newly created one, add the following lines:&lt;/p&gt;

        &lt;pre class="prettyprint"&gt;&lt;code&gt;group :test do
          gem 'cucumber'
          gem 'rspec-expectations'
          end
        &lt;/code&gt;&lt;/pre&gt;

        &lt;p&gt;In the previously created &lt;code&gt;support&lt;/code&gt; directory, create a file called &lt;code&gt;env.rb&lt;/code&gt;, and add the following lines:&lt;/p&gt;

        &lt;pre class="prettyprint"&gt;&lt;code&gt;# features/support/env.rb
          # &amp;lt;add any additional imports here&amp;gt;
          require 'rspec/expectations'
          World(RSpec::Matchers)
        &lt;/code&gt;&lt;/pre&gt;

        &lt;p&gt;You've now got Cucumber installed and a skeleton test apparatus set up for your project.
          You should now run &lt;code&gt;bundle exec cucumber&lt;/code&gt; from the root directory of your project (the folder containing the &lt;code&gt;features&lt;/code&gt; directory) to make sure it's installed correctly, though it won't find any tests yet. If all is well, you should see output like the following:&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;$ bundle exec cucumber
            0 scenarios
            0 steps
            0m0.000s
          &lt;/code&gt;&lt;/pre&gt;

          &lt;h3 id="creatingfeatures"&gt;Creating Features&lt;/h3&gt;

          &lt;p&gt;In order to use Cucumber meaningfully, you need to describe the features in your project that you would like to test. Cucumber allows you to describe fairly high level features as in an English-like syntax, much like a use case, and then test the implementations that fulfill those use cases. &lt;/p&gt;

          &lt;p&gt;Feature files end with a &lt;code&gt;.feature&lt;/code&gt; extension and live in your project's &lt;code&gt;features&lt;/code&gt; directory. To get started, create a feature file in your features directory. Feature files can have any name you like, but for now try calling it &lt;code&gt;tutorial1.feature&lt;/code&gt;.&lt;/p&gt;

          &lt;p&gt;Before filling out the feature file, lets first look at an example of a simple feature description from the Cucumber official documentation.&lt;/p&gt;

          &lt;h4 id="featuresyntax"&gt;Feature Syntax&lt;/h4&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;Feature: Serve coffee
            In order to earn money
            Customers should be able to
            buy coffee at all times

            Scenario: Buy last coffee
            Given there are 1 coffees left in the machine
            And I have deposited 1$
            When I press the coffee button
            Then I should be served a coffee
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;The first thing to note about this format is that it's entirely human readable. The first line of a feature file, &lt;code&gt;Feature: Serve coffee&lt;/code&gt; in this example, is a header that indicates the name of the feature. This name will appear in the test output with Cucumber is run on your project. The next three lines are actually free-form text; they are their to assist human readers of the feature and help to explain the business case for the feature. It's recommended that these three lines contain a purpose, the user of the feature, and the general action the feature performs.&lt;/p&gt;

          &lt;p&gt;Following the free-form section are one or more Scenarios. Scenarios are written in a Given/When/Then format that &lt;em&gt;is&lt;/em&gt; parsed by Cucumber. These lines describe the preconditions for the specific aspect of the feature to be exercised, the trigger, and the expected output. Rather than being generic, these lines can describe a single specific example, such as what should happen when a single dollar is inserted into the machine.&lt;/p&gt;

          &lt;p&gt;Lets describe a feature for a simple calculator that allows a user to average integers. Open &lt;code&gt;tutorial1.feature&lt;/code&gt; and enter the following lines, referring to the above syntax explanation if necessary. Remember that the first three lines following the &lt;code&gt;Feature:&lt;/code&gt; header are not parsed by Cucumber.&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;Feature: Sum grades
            In order to discover what my total score is
            As a student learning Cucumber who is bad at math
            I want to be able to average a list of my grades

            Scenario:
            Given that I have a calculator
            and that I have entered 90 for my first grade
            and that I have entered 85 for my second grade
            and that I have entered 98 for my third grade
            When I press the average button
            Then the calculator should output 91 as my average
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;Once you finished editing &lt;code&gt;tutorial1.feature&lt;/code&gt;, save the file, return to the root of your project directory, and run &lt;code&gt;bundle exec cucumber&lt;/code&gt;. You should see output similar to the following:&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;my_project/ $ bundle exec cucumber

            Feature: Average grades
            In order to discover what my total score is
            As a student learning Cucumber who is bad at math
            I want to be able to average a list of my grades

            Scenario:                                            # features/tutorial1.feature:6
            Given that I have a calculator                     # features/tutorial1.feature:7
            And that I have entered 90 for my first grade      # features/tutorial1.feature:8
            And that I have entered 85 for my second grade     # features/tutorial1.feature:9
            And that I have entered 98 for my third grade      # features/tutorial1.feature:10
            When I press the average button                    # features/tutorial1.feature:11
            Then the calculator should output 91 as my average # features/tutorial1.feature:12

            1 scenario (1 undefined)
            6 steps (6 undefined)
            0m0.002s

            You can implement step definitions for undefined steps with these snippets:

            Given(/^that I have a calculator$/) do
            pending # express the regexp above with the code you wish you had
            end

            Given(/^that I have entered (\d+) for my first grade$/) do |arg1|
            pending # express the regexp above with the code you wish you had
            end

            &amp;lt;...&amp;gt;

            If you want snippets in a different programming language,
            just make sure a file with the appropriate file extension
            exists where cucumber looks for step definitions.
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;These error messages are an indication from Cucumber that it can't find a step definition for the feature. This makes sense, considering one hasn't been written yet. To rectify this situation, create a file in the &lt;code&gt;features/step_definitions&lt;/code&gt; folder with a &lt;code&gt;.rb&lt;/code&gt; extention, and add the following lines:&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;Given /that I have a calculator/ do
            @calculator = Calculator.new
            end

            Given /I have entered (\d+) for my (.*) grade/ do |grade, n|
            @calculator.add(grade.to_i)
            end

            When /I press the average button/ do
            @calculator.average()
            end

            Then /the calculator should output (\d+) as my average/ do |n|
            @calculator.grade.should == n.to_i
            end
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;Each of these lines represents a step from the scenario we defined earlier. Each step definition is a function that takes a regular expression matching the natural language steps from the scenario file, with groups such as &lt;code&gt;(\d+)&lt;/code&gt; called out in order to capture arguments or other variable parts of the step. As you can see here, for the grade-entering step, there are two parameters-- the grade value and the ordinal number (first, second) of its position in the list. Note that parameters captured like this are strings, and they must be cast to the appropriate type if you expect them to be integers, floats, or other types.&lt;/p&gt;

          &lt;p&gt;You can see from this step definition how actual implementation can be attached to the human-readable feature description. To try it out, save the step definition file and run &lt;code&gt;bundle exec cucumber&lt;/code&gt; again from the root directory.&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;my_project/ $ bundle exec cucumber
            Feature: Average grades
            In order to discover what my total score is
            As a student learning Cucumber who is bad at math
            I want to be able to average a list of my grades

            Scenario:                                            # features/tutorial1.feature:6
            Given that I have a calculator                     # features/step_definitions/tutorial1.rb:1
            uninitialized constant Calculator (NameError)
            ./features/step_definitions/tutorial1.rb:2:in `/that I have a calculator/'
            features/tutorial1.feature:7:in `Given that I have a calculator'
            And that I have entered 90 for my first grade      # features/step_definitions/tutorial1.rb:5
            And that I have entered 85 for my second grade     # features/step_definitions/tutorial1.rb:5
            And that I have entered 98 for my third grade      # features/step_definitions/tutorial1.rb:5
            When I press the average button                    # features/step_definitions/tutorial1.rb:9
            Then the calculator should output 91 as my average # features/step_definitions/tutorial1.rb:13

            Failing Scenarios:
            cucumber features/tutorial1.feature:6 # Scenario:

            1 scenario (1 failed)
            6 steps (1 failed, 5 skipped)
            0m0.002s
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;As you may have expected, this time the test gets further but fails because we haven't actually implemented the &lt;code&gt;Calculator&lt;/code&gt; class in question. In another Ruby source file, define the Calculator class as follows and then add a &lt;code&gt;require&lt;/code&gt; statement to &lt;code&gt;env.rb&lt;/code&gt; to import the file that contains it. Here's an example implementation that will pass the tests we defined:&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;class Calculator
            def initialize
            @sum = 0
            end

            def add(n)
            @sum += n
            end

            def grade
            return @grade
            end
            def grade=(val)
            @grade = val
            end

            def average()
            @grade = (@sum/3.0)
            end
            end
          &lt;/code&gt;&lt;/pre&gt;

          &lt;p&gt;This time, running Cucumber should result in a full set of passed tests, and nice bright green output lines, like the color of a cucumber.&lt;/p&gt;

          &lt;pre class="prettyprint"&gt;&lt;code&gt;Feature: Average grades
            In order to discover what my total score is
            As a student learning Cucumber who is bad at math
            I want to be able to average a list of my grades

            Scenario:                                            # features/tutorial1.feature:6
            Given that I have a calculator                     # features/step_defininitions/tutorial1.rb:1
            And that I have entered 90 for my first grade      # features/step_defininitions/tutorial1.rb:5
            And that I have entered 85 for my second grade     # features/step_defininitions/tutorial1.rb:5
            And that I have entered 98 for my third grade      # features/step_defininitions/tutorial1.rb:5
            When I press the average button                    # features/step_defininitions/tutorial1.rb:9
            Then the calculator should output 91 as my average # features/step_defininitions/tutorial1.rb:13

            1 scenario (1 passed)
            6 steps (6 passed)
            0m0.006s
          &lt;/code&gt;&lt;/pre&gt;

          &lt;h3 id="additionalresources"&gt;Additional Resources&lt;/h3&gt;

          &lt;p&gt;For more help with Cucumber, check out the official site and documentation available at the following links:&lt;/p&gt;

          &lt;ul&gt;
            &lt;li&gt;&lt;a href="http://cukes.info" title="Cucumber"&gt;Cucumber&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="http://github.com/cucumber/cucumber" title="Cucumber on Github"&gt;Cucumber on GitHub&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="https://github.com/cucumber/cucumber/wiki" title="Official Cucumber Wiki"&gt;Cucumber Documentation&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
    </summary><category term="testing"></category><category term="ruby"></category></entry></feed>